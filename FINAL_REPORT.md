
# HITEDU 智能教育平台 - 期末项目报告

## 1. 系统功能说明

### 1.1 项目概述
HITEDU 是一个集成了生成式 AI 技术的现代化全栈教育平台。系统采用前后端分离架构，旨在通过 AI 赋能传统教学场景，提供个性化学习路径、智能辅助工具及数据驱动的教学反馈。平台支持**学生**和**教师**两种角色，具备差异化的功能权限。

### 1.2 技术栈详解 (Technology Stack)

#### 前端 (Frontend)
*   **核心框架**: React 18 (使用 Vite 构建工具)
*   **开发语言**: TypeScript (强类型约束，提升代码健壮性)
*   **UI 风格与样式**:
    *   **Tailwind CSS**: 原子化 CSS 框架，用于快速布局。
    *   **Liquid Glass UI**: 自定义 CSS 实现的“液态毛玻璃”视觉风格（见 `index.html` 及 `Layout.tsx` 中的动画与背景模糊效果）。
    *   **Lucide React**: 现代化图标库。
    *   **Three.js / React Three Fiber**: 用于实现 3D 视觉效果组件（如 `LiquidChrome.tsx`）。
*   **状态管理**: React Hooks (`useState`, `useEffect`, `useRef`, `useContext`)。

#### 后端 (Backend)
*   **运行环境**: Node.js
*   **Web 框架**: Express.js (提供 RESTful API 服务)
*   **中间件**:
    *   `cors`: 处理跨域资源共享。
    *   `body-parser`: 解析 JSON 请求体（配置了 50mb 限制以支持大文本/图片数据传输）。
*   **数据库 (Database)**:
    *   **JSON 文件存储**: 使用 `server/db.json` 作为轻量级持久化存储。
    *   **实现逻辑**: 通过 Node.js 原生 `fs` 模块进行读写操作，模拟 NoSQL 数据库结构（包含 `users`, `videos`, `progress`, `mistakes`, `quizResults`, `reports` 等集合）。

#### 人工智能 (AI Core)
*   **SDK**: `@google/genai` (Google Gemini 官方 SDK)
*   **模型应用**:
    *   `gemini-2.5-flash`: 用于处理高并发、低延迟的文本生成任务（聊天、出题、报告分析、笔记整理）。
    *   `gemini-2.5-flash-image`: 用于图像生成任务（如用户头像生成）。
    *   `gemini-2.5-flash-preview-tts` (预留): 用于语音相关功能。

### 1.3 核心模块功能细节

#### A. 身份认证模块
*   **功能**: 支持学生/教师注册与登录。
*   **逻辑**: 前端通过 API 发送凭证 -> 后端验证 `db.json` 中的用户列表 -> 返回用户信息对象（不含 Token，采用会话存储模拟）。
*   **特色**: 注册时自动根据用户名通过 UI Avatars 生成初始头像，或使用 AI 生成个性化头像。

#### B. 智能视频播放器 (Smart Video Player)
*   **视频流**: 支持 MP4/WebM 格式播放。
*   **章节导航**: 支持基于时间戳的章节跳转（`VideoChapter` 类型）。
*   **随堂小测 (In-Video Quiz)**: 播放器自动监测时间轴，当到达特定时间点（`timestamp`）时自动暂停并弹出选择题，答对后方可继续。
*   **智能笔记**: 集成 `VoiceNote` 组件，调用浏览器 `MediaRecorder` API 录音，并通过 Gemini 模型将语音转录为文本，支持 AI 一键整理笔记结构。
*   **进度追踪**: 实时向后端同步观看进度（每 5 秒同步一次）。

#### C. AI 辅助教学工具箱
1.  **AI 智能出题 (AI Quiz)**:
    *   用户输入主题或上传文档内容。
    *   Gemini 生成符合 JSON Schema 的结构化试题（单选/简答）。
    *   前端渲染答题界面，支持倒计时。
    *   考试结束自动评分，并将错题和成绩同步至后端数据库。
2.  **AI 助教 (Online Tutoring)**:
    *   基于 RAG（检索增强生成）思路的简化版，维护多轮对话历史 (`history` 数组)。
    *   提供 FAQ 检索和名师直播预约界面（模拟）。
3.  **AI 作业报告 (AI Report)**:
    *   读取上传的文本/Markdown 文件。
    *   AI 从“相关性、逻辑、覆盖率、规范性”四个维度打分（0-100），并生成优化建议。
    *   支持将分析报告保存至云端。
4.  **教材制作工坊 (Courseware)**:
    *   根据输入主题，AI 生成 PPT 大纲结构（页码、标题、内容点、配图提示词）。
    *   模拟生成教学视频流程。

#### D. 个人中心与学情分析 (Student Profile)
*   **AI 学习画像**: 基于用户的学习时长、错题记录和测验成绩，由 AI 实时生成一段个性化的学情评价。
*   **头像生成**: 使用 `gemini-2.5-flash-image` 根据提示词生成个性化头像并更新至后端。
*   **智能错题本**: 自动聚合所有错误的练习题，支持导出为 TXT 文件。
*   **学习图表**: 可视化展示学习时长分布及薄弱知识点。

#### E. 教师工作台 (Teacher Dashboard)
*   **课程发布**: 支持上传视频信息（标题、简介、分类），后端模拟存储视频元数据。
*   **学情监控**: 查看班级活跃度趋势图表及 AI 生成的班级学情总结报告。
*   **课程管理**: 对已发布的视频进行编辑或下架操作。

---

## 2. 系统安装与操作说明

### 2.1 环境配置要求
*   **操作系统**: Windows, macOS, 或 Linux。
*   **开发环境**: Node.js (v18.0.0+), npm (v9.0.0+)。
*   **API Key**: 必须拥有 Google Gemini API Key (配置于 `.env` 文件)。

### 2.2 部署步骤

本系统包含两个独立运行的服务：后端服务器（Port 3001）和前端应用（Port 5173）。

#### 第一步：后端部署
1.  打开终端，进入 server 目录：
    ```bash
    cd server
    ```
2.  安装依赖：
    ```bash
    npm install
    ```
3.  启动后端服务：
    ```bash
    npm start
    ```
    *成功提示*: 控制台输出 `Server running on http://localhost:3001`，并自动生成 `db.json` 数据库文件。

#### 第二步：前端部署
1.  打开一个新的终端窗口，进入项目根目录：
    ```bash
    cd ..  # 如果当前在 server 目录
    ```
2.  安装前端依赖：
    ```bash
    npm install
    ```
3.  配置环境变量：
    在根目录创建 `.env` 文件，并写入：
    ```env
    VITE_API_KEY=你的_Gemini_API_Key
    ```
4.  启动前端应用：
    ```bash
    npm run dev
    ```
    *成功提示*: 控制台输出 `Local: http://localhost:5173/`。

### 2.3 用户操作教程

#### 1. 注册与登录
*   访问 `http://localhost:5173`。
*   点击“免费注册”，选择角色（学生/教师），输入用户名密码。
*   登录后将进入对应的仪表盘。

#### 2. 体验 AI 出题 (学生端)
*   在仪表盘点击“AI 智能出题”。
*   输入主题（如“计算机网络”）或上传本地 TXT 笔记。
*   配置题目数量和时间，点击“立即生成”。
*   完成作答后，系统自动判分并保存结果。

#### 3. 观看视频与笔记 (学生端)
*   在首页点击任意推荐课程进入播放页。
*   视频播放过程中，右侧侧边栏点击“录音”按钮。
*   说话后停止，系统自动将语音转为文字笔记。
*   点击“AI 整理”，Gemini 将自动美化笔记格式。

#### 4. 发布课程 (教师端)
*   以教师账号登录。
*   在工作台切换至“发布课程”标签页。
*   填写课程信息，点击发布。
*   发布成功后，视频将即时出现在学生端的推荐列表中。

---
**报告生成时间**: 2025年
**开发团队**: HITEDU Dev Team
